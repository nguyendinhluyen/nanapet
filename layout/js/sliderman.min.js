var Sliderman=new function(){function e(t){return r=Math.round(Math.random()*(t+1)),r>0&&t+1>r?r--:r=e(t),r}function t(e,t){for(var a in e)if(e.hasOwnProperty(a)&&t(a,e[a],e))return}function a(e,t,a){var r=e[t];e[t]="function"!=typeof r?a:function(){r(),a()}}function n(e,t,a){var r=function(){if(k[e])t&&t(e);else{var a=v("IMG");a.onload=function(){k[e]=!0,t&&t(e)},new function(){a.src=e}}};a?setTimeout(r,"number"==typeof a?a:1e3):r()}function i(e){if(e.constructor==Array)var a=[];else var a={};return t(e,function(t){a[t]="object"!=typeof e[t]?e[t]:i(e[t])}),a}function o(){return(new Date).getTime()}function c(e,t){return String(e).replace(/^\s+/,"").replace(/\s+$/,"").toLowerCase()==String(t).replace(/^\s+/,"").replace(/\s+$/,"").toLowerCase()}function s(e,a,r){var n=!1;return r?t(e,function(t){return c(e[t][a],r)?(n=t,!0):void 0}):t(e,function(t){return c(e[t],r)?(n=t,!0):void 0}),n}function l(e,a){a=a.split(",");var r;return t(a,function(t){return r=a[t],c(e,a[t])?!0:void 0}),r}function h(){if(!y){var e,t=document.body,a=t.style;"string"==typeof a.opacity?e="opacity":"string"==typeof a.MozOpacity?e="MozOpacity":"string"==typeof a.KhtmlOpacity?e="KhtmlOpacity":t.filters&&navigator.appVersion.match(/MSIE ([\d.]+);/)[1]>=5.5&&(e="filter"),y="filter"==e?function(t,a){a>1?a=1:0>a&&(a=0),t[e]="alpha(opacity="+Math.round(100*a)+")"}:e?function(t,a){a>1?a=1:0>a&&(a=0),t[e]=a.toFixed(2)}:ef}}function f(e,t,a){"string"==typeof a?e[t]=a:"clip"==t?e[t]="rect("+Math.round(a[0])+"px, "+Math.round(a[1])+"px, "+Math.round(a[2])+"px, "+Math.round(a[3])+"px)":"opacity"==t?y(e,a):e[t]=Math.round(a)+"px"}function d(e,a){t(a,function(t){f(e,t,a[t])})}function u(e){e.display="none"}function p(e){e.display=""}function v(e,t){var a=document.createElement(e);return t&&d(a.style,t),a}function g(e){var a=e.effect,r=e.display;a||(a={}),e.contentmode&&(a.zoom=!1),a.interval=a.interval||40,a.duration=a.duration||200,a.delay=a.delay||0;var n,c,s,h,f,p,g,b=Math.round(a.duration/a.interval),y=[],w=[],k=[],T=[],L=v("div",{width:r.width,height:r.height,position:"absolute",top:0,left:0,overflow:"hidden"});e.container.appendChild(L);var M={cols:a.cols?a.cols:1,rows:a.rows?a.rows:1};M.count=M.cols*M.rows,M.width=r.width/M.cols,M.height=r.height/M.rows;for(var B=0;B<M.cols;B++)for(var s=0;s<M.rows;s++)M[B+","+s]=[s*M.height,B*M.width+M.width,s*M.height+M.height,B*M.width];var C=i(a),x=i(a);x.top=C.bottom,x.bottom=C.top,x.left=C.right,x.right=C.left,a.order=l(a.order,"snake,straight,swirl,straight_stairs,random");var I=m(M.cols,M.rows,a.order,a.road,a.reverse),R="random"==a.order?o():[a.interval,a.duration,a.delay,a.cols,a.rows,a.top,a.right,a.bottom,a.left,a.fade,a.zoom,a.move,a.chess,a.order,a.road,a.reverse].join(",");if(N[R])y=N[R].startStylesArr,w=N[R].AnimateArr,k=N[R].needAnimate;else{for(s=0;s<M.rows;s++)for(B=0;B<M.cols;B++){if(n=I[B+","+s],a=a.chess&&n%2==1?x:C,f={top:0,left:0,opacity:1,width:r.width,height:r.height,overflow:"hidden"},p=i(f),c=i(M[B+","+s]),a.fade&&(f.opacity=0),a.top&&a.bottom?c[0]=c[2]=(c[0]+c[2])/2:a.top?c[2]-=M.height:a.bottom&&(c[0]+=M.height),a.left&&a.right?c[1]=c[3]=(c[1]+c[3])/2:a.left?c[1]-=M.width:a.right&&(c[3]+=M.width),a.zoom&&(f.left=M[B+","+s][3],f.top=M[B+","+s][0],a.left&&a.right?f.left+=M.width/2:a.right?f.left+=M.width:a.left||(f.left=0),a.top&&a.bottom?f.top+=M.height/2:a.bottom?f.top+=M.height:a.top||(f.top=0),(a.left||a.right)&&(c[1]=c[3]=0),(a.top||a.bottom)&&(c[0]=c[2]=0),f.width=a.left||a.right?0:r.width,f.height=a.top||a.bottom?0:r.height),a.move&&(a.top&&(f.top=parseInt(f.top)-M.height,c[0]+=M.height,c[2]+=M.height),a.bottom&&(f.top=parseInt(f.top)+M.height,c[0]-=M.height,c[2]-=M.height),a.left&&(f.left=parseInt(f.left)-M.width,c[1]+=M.width,c[3]+=M.width),a.right&&(f.left=parseInt(f.left)+M.width,c[1]-=M.width,c[3]-=M.width)),f.clip=c,p.clip=M[B+","+s],g=[],t(p,function(e){f[e].toString()!=p[e].toString()&&(g[e]=[],"clip"==e?t(f[e],function(t){g[e][t]=p[e][t]-f[e][t]}):g[e]=p[e]-f[e],k[n]=!0)}),y[n]=f,w[n]=[],a.delay)for(var A=0;A<Math.round(n*a.delay/a.interval);A++)w[n].push(null);var D;if(k[n])for(D=1;b>=D;D++){progress=D/b,progress=-Math.cos(progress*Math.PI)/2+.5;var V=[];D==b?V=p:t(g,function(e){value=[],"clip"==e?t(g[e],function(t){value[t]=f[e][t]+g[e][t]*progress}):value=f[e]+g[e]*progress,V[e]=value}),w[n].push(V)}else w[n].push({display:""})}N[R]={startStylesArr:y,AnimateArr:w,needAnimate:k}}for(s=0;s<M.rows;s++)for(B=0;B<M.cols;B++){n=I[B+","+s],e.contentmode?(h=v("DIV",y[n]),h.appendChild(e.src.cloneNode(!0))):(h=v("IMG",y[n]),h.src=e.src);var S=h.style;S.position="absolute",L.appendChild(h),T[n]=S,k[n]||u(T[n])}var E,H=o(),O=w[w.length-1].length,j=[],z=!0,P=function(){if(z){var n=Math.ceil((o()-H)/a.interval);n=n>=O?O-1:n-1,t(w,function(e){E=n>w[e].length-1?w[e].length-1:n,w[e][E]&&!j[e+","+E]&&(d(T[e],w[e][E]),j[e+","+E]=!0)}),n==O-1&&(M.count>1&&(L.innerHTML="",e.contentmode?L.appendChild(e.src):L.innerHTML='<img src="'+e.src+'" width="'+r.width+'" height="'+r.height+'" />'),e.callback(L),z=!1)}return z},_=setInterval(function(){P()||clearInterval(_)},a.interval)}function m(e,a,r,n,i){function o(t){for(d=0;a>d;d++)for(f=0;e>f;f++)t()}e=parseInt(e),a=parseInt(a);var c,s=[],l=[],h=0,f=0,d=0,u=e*a,p=e-1,v=a-1,g=u-1;n||(n="RB");var m=[e,a,r,n,i].join(",");if(!T[m]){if(u>1){switch(r){case"straight":switch(n){case"BL":c=function(){s[f+","+d]=g-(f*a+(v-d))};break;case"RT":c=function(){s[f+","+d]=g-(d*e+(p-f))};break;case"TL":c=function(){s[f+","+d]=g-(f*a+d)};case"LT":c=function(){s[f+","+d]=g-(d*e+f)};break;case"BR":c=function(){s[f+","+d]=f*a+d};break;case"LB":c=function(){s[f+","+d]=d*e+(p-f)};break;case"TR":c=function(){s[f+","+d]=f*a+(v-d)};break;default:c=function(){s[f+","+d]=d*e+f}}o(c);break;case"swirl":var b,y=0;switch(n){case"BL":f=p,d=0,b=["r+","c-","r-","c+"];break;case"RT":f=0,d=v,b=["c+","r-","c-","r+"];break;case"TL":f=p,d=v,b=["r-","c-","r+","c+"];break;case"LT":f=p,d=v,b=["c-","r-","c+","r+"];break;case"BR":f=0,d=0,b=["r+","c+","r-","c-"];break;case"LB":f=p,d=0,b=["c-","r+","c+","r-"];break;case"TR":f=0,d=v,b=["r-","c+","r+","c-"];break;default:f=0,d=0,b=["c+","r+","c-","r-"]}for(h=0;e*a>h;){if(f>=0&&e>f&&d>=0&&a>d&&"undefined"==typeof s[f+","+d])s[f+","+d]=h++;else switch(b[y++%b.length]){case"c+":f--;break;case"r+":d--;break;case"c-":f++;break;case"r-":d++}switch(b[y%b.length]){case"c+":f++;break;case"r+":d++;break;case"c-":f--;break;case"r-":d--}}break;case"snake":var b,y=0;switch(n){case"BL":f=p,d=0,b=["r+","c-","r-","c-"];break;case"RT":f=0,d=v,b=["c+","r-","c-","r-"];break;case"TL":f=p,d=v,b=["r-","c-","r+","c-"];break;case"LT":f=p,d=v,b=["c-","r-","c+","r-"];break;case"BR":f=0,d=0,b=["r+","c+","r-","c+"];break;case"LB":f=p,d=0,b=["c-","r+","c+","r+"];break;case"TR":f=0,d=v,b=["r-","c+","r+","c+"];break;default:f=0,d=0,b=["c+","r+","c-","r+"]}for(h=0;e*a>h;)if(f>=0&&e>f&&d>=0&&a>d&&"undefined"==typeof s[f+","+d])switch(s[f+","+d]=h++,b[y%b.length]){case"c+":f++;break;case"r+":d++;break;case"c-":f--;break;case"r-":d--}else{switch(b[y++%b.length]){case"c+":f--;break;case"r+":d--;break;case"c-":f++;break;case"r-":d++}switch(b[y++%b.length]){case"c+":f++;break;case"r+":d++;break;case"c-":f--;break;case"r-":d--}}break;case"straight_stairs":switch(n){case"BL":case"TR":case"TL":case"BR":var w=0,k=0;break;case"LB":case"RT":case"LT":case"RB":default:var w=p,k=0}for(f=w,d=k;u>h;){switch(s[f+","+d]=1==n.indexOf("T")||1==n.indexOf("R")?g-h++:h++,n){case"BL":case"TR":f--,d++;break;case"TL":case"BR":f++,d--;break;case"LB":case"RT":f--,d--;break;case"RB":case"LT":default:f++,d++}if(0>f||0>d||f>p||d>v){switch(n){case"BL":case"TR":w++;break;case"LB":case"RT":case"TL":case"BR":k++;break;case"RB":case"LT":default:w--}if(0>w||0>k||w>p||k>v){switch(n){case"BL":case"TR":w=p,k++;break;case"TL":case"BR":k=v,w++;break;case"LB":case"RT":k=v,w--;break;case"RB":case"LT":default:w=0,k++}k>v?k=v:0>k?k=0:w>p?w=p:0>w&&(w=0)}d=k,f=w}}}i&&t(s,function(e){s[e]=g-s[e]})}else s["0,0"]=0;T[m]=s}if("random"==r){o(function(){l.push(f+","+d)}),l.sort(function(){return Math.random()>.5});for(var h=0;e*a>h;h++)s[l[h]]=h;T[m]=s}return T[m]}function b(){return"Sliderman-nameless-effect-"+L++}var y,w=this,k=[],N=[],T=[],L=0,M=[];w.effect=function(e){if(e){var t=-1;if(e.name){var a=s(M,"name",e.name);a&&(t=a)}else e.name=b();t>=0?M[t]=e:M.push(e)}},w.effect({name:"fade",fade:!0,duration:400}),w.effect({name:"move",left:!0,move:!0,duration:400}),w.effect({name:"stairs",cols:7,rows:5,delay:30,order:"straight_stairs",road:"BL",fade:!0}),w.effect({name:"blinds",cols:10,delay:100,duration:400,order:"straight",right:!0,zoom:!0,fade:!0}),w.effect({name:"rain",cols:10,delay:100,duration:400,order:"straight",top:!0,fade:!0}),w.slider=function(t){function r(e){var t=0;e||(e=window.event),e.wheelDelta?(t=e.wheelDelta/120,window.opera&&(t=-t)):e.detail&&(t=-e.detail/3),t&&onmousewheel(t)&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)}h();var o,c,m,w={},k="free",N=!1,T=[],L=[],B=[],C=function(){},x=t.events,I=x?function(e){x[e]&&"function"==typeof x[e]&&x[e](w)}:C,R=t.contentmode,A=[],D=-1,V=function(e){if("string"==typeof e)if(e=e.split(","),1==e.length){var t=s(M,"name",e);t&&V(M[t])}else for(var a=0;a<e.length;a++)V(e[a]);else if(e){e.name||(e.name=b());var r=s(A,"name",e.name);r||(r=A.length),A[r]=i(e)}},S=function(){var t=0;return A.length>1&&(t=e(A.length),D==t&&t++,t%=A.length,D=t),A[t]};if(t.effects)if(t.effects.constructor==Array)for(var E=0;E<t.effects.length;E++)V(t.effects[E]);else V(t.effects);A.length||(A=i(M));var H=t.display||{};H.width=t.width,H.height=t.height;var O=H.loading||{},j=H.description||null,z=H.navigation||null,P=H.buttons||null,_={width:H.width,height:H.height,position:"absolute",top:0,left:0,display:"block"},G=document.getElementById(t.container);if(a(G,"onmouseover",function(){N=!0,P&&P.hide&&p(ot.style),j&&j.hide&&!R&&p(tt.style),H.pause&&pt(!1)}),a(G,"onmouseout",function(){N=!1,P&&P.hide&&u(ot.style),j&&j.hide&&!R&&u(tt.style),H.pause&&pt(!0)}),R)for(var E=0;E<G.childNodes.length;E++)1==G.childNodes[E].nodeType&&(T.push(G.childNodes[E].cloneNode(!0)),u(G.childNodes[E].style));else{for(var E=0;E<G.childNodes.length;E++)if(1==G.childNodes[E].nodeType){if("A"==G.childNodes[E].tagName){var K=G.childNodes[E].getElementsByTagName("IMG");K.length?(T.push(K[0].src),B[T.length-1]=G.childNodes[E]):L[T.length-1]=G.childNodes[E]}else if("IMG"==G.childNodes[E].tagName){if(T.push(G.childNodes[E].src),G.childNodes[E].useMap){var $,F=document.getElementsByTagName("MAP");if(F.length)for(var q=0;q<F.length;q++)F[q].name&&G.childNodes[E].useMap.replace(/^[^#]*#/,"")==F[q].name&&($=F[q]);$&&(B[T.length-1]=$)}}else{if("MAP"==G.childNodes[E].tagName)continue;L[T.length-1]=G.childNodes[E]}u(G.childNodes[E].style)}for(var E=0;E<T.length;E++)n(T[E])}var J=v("DIV",{width:H.width,height:H.height,position:"relative"});G.appendChild(J);var Q=v("DIV",_);if(J.appendChild(Q),partsCont=J,R)var U=C;else{var W=v("DIV",_);partsCont.appendChild(W);var U=function(){if(W.innerHTML="",value=B[o]){if("MAP"==value.tagName){var e=v("IMG",_);e.src=T[o],e.useMap="#"+value.name}else{var e=v("A",_);e.href=value.href,e.target=value.target}d(e.style,{opacity:0,background:"#000000"}),e.onfocus=function(){this.blur()},W.appendChild(e)}}}if(R)var X=C;else{var Y=v("DIV");if(partsCont.appendChild(Y),O.background){var Z=i(_);Z.background=O.background,O.opacity&&(Z.opacity=O.opacity),Y.appendChild(v("DIV",Z))}if(O.image){var et=i(_);et.background="url("+O.image+") no-repeat center center",Y.appendChild(v("DIV",et))}var X=function(e){e?p(Y.style):u(Y.style),k=e?"loading":"free"}}if(j&&!R){var tt=v("DIV");partsCont.appendChild(tt),j.hide&&u(tt.style);var at={position:"absolute",overflow:"hidden",textAlign:"left"};j||(j=[]),j.position=l(j.position,"top,left,right,bottom"),at.background=j.background||"white",at.opacity=j.opacity||.5,at.width="top"==j.position||"bottom"==j.position?H.width:j.width||.2*H.width,at.height="left"==j.position||"right"==j.position?H.height:j.height||.2*H.height,at["bottom"==j.position?"bottom":"top"]=0,at["right"==j.position?"right":"left"]=0;var rt=v("DIV",at);tt.appendChild(rt),at.opacity=1,at.background="";var nt=v("DIV",at);tt.appendChild(nt);var it=function(){nt.innerHTML="",f(tt.style,"visibility","hidden");var e=L[o];e&&(f(tt.style,"visibility","visible"),e=e.cloneNode(!0),p(e.style),nt.appendChild(e),N&&p(tt.style))}}else var it=C;if(P){var ot=v("DIV");partsCont.appendChild(ot),P.hide&&u(ot.style);var ct=v("A");ot.appendChild(ct),ct.href="javascript:void(0);";var st=ct.cloneNode(!0);ot.appendChild(st),ct.onfocus=function(){this.blur()},st.onfocus=function(){this.blur()},ct.onclick=function(){w.prev()},st.onclick=function(){w.next()},P.prev.label&&(ct.innerHTML="string"==typeof P.prev.label?P.prev.label:"prev"),P.prev.label&&(st.innerHTML="string"==typeof P.next.label?P.next.label:"next"),P.prev.className&&(ct.className=P.prev.className),P.next.className&&(st.className=P.next.className),(P.opacity||P.prev.opacity)&&y(ct.style,P.opacity||P.prev.opacity),(P.opacity||P.next.opacity)&&y(st.style,P.opacity||P.next.opacity)}if(z){var lt,ht=document.getElementById(z.container);z.prev&&(lt=v("A"),z.prev.label&&(lt.innerHTML="string"==typeof z.prev.label?z.prev.label:"Prev"),z.prev.className&&(lt.className=z.prev.className),lt.href="javascript:void(0);",lt.onfocus=function(){this.blur()},lt.onclick=function(){w.prev()},ht.appendChild(lt));for(var ft=[],E=0;E<T.length;E++)lt=v("A"),z.label&&(lt.innerHTML="string"==typeof z.label?z.label:E+1),z.className&&(lt.className=z.className),lt.href="javascript:void(0);",lt.id=t.container+"_SliderNavigation"+E,lt.onfocus=function(){this.blur()},lt.onclick=function(){w.go(this.id.replace(/[^\d]+/g,""))},ft.push(lt),ht.appendChild(lt);z.next&&(lt=v("A"),z.next.label&&(lt.innerHTML="string"==typeof z.next.label?z.next.label:"Next"),z.next.className&&(lt.className=z.next.className),lt.href="javascript:void(0);",lt.onfocus=function(){this.blur()},lt.onclick=function(){w.next()},ht.appendChild(lt));var dt=function(){for(var e=0;e<ft.length;e++)ft[e].className=ft[e].className.replace(/\bactive\b/g,"");ft[o].className+=" active"}}else var dt=C;if(H.autoplay)var ut,pt=function(e){ut&&clearTimeout(ut),!e||N&&H.pause||(ut=setTimeout(w.next,H.autoplay))};else var pt=C;var vt=function(e){I("before"),X(!1),k="busy",it(),U(),dt(),g({effect:S(),display:H,container:Q,src:e,callback:function(e){m&&m.parentNode.removeChild(m),m=e,k="free",pt(!0),I("after")},contentmode:R})};return w.next=function(){w.go(o+1)},w.prev=function(){w.go(o-1)},w.go=function(e){e=(T.length+e)%T.length,pt(!1),"free"==k&&o!=e&&(c=o,o=e,I("loading"),X(!0),R?vt(T[o]):n(T[o],vt,H.always_show_loading))},w.get=function(e){switch(e){case"length":return T.length;case"current":return o;case"previous":return c;case"images":return T;case"links":return B;case"descriptions":return L}},H.mousewheel&&(onmousewheel=function(e){return e>0?w.prev():0>e&&w.next(),!0},G.addEventListener?(G.addEventListener("DOMMouseScroll",r,!1),G.addEventListener("mousewheel",r,!1)):a(G,"onmousewheel",r)),w.go(0),w}},Sliderman2=new function(){function e(t){return r=Math.round(Math.random()*(t+1)),r>0&&t+1>r?r--:r=e(t),r}function t(e,t){for(var a in e)if(e.hasOwnProperty(a)&&t(a,e[a],e))return}function a(e,t,a){var r=e[t];e[t]="function"!=typeof r?a:function(){r(),a()}}function n(e,t,a){var r=function(){if(k[e])t&&t(e);else{var a=v("IMG");a.onload=function(){k[e]=!0,t&&t(e)},new function(){a.src=e}}};a?setTimeout(r,"number"==typeof a?a:1e3):r()}function i(e){if(e.constructor==Array)var a=[];else var a={};return t(e,function(t){a[t]="object"!=typeof e[t]?e[t]:i(e[t])}),a}function o(){return(new Date).getTime()}function c(e,t){return String(e).replace(/^\s+/,"").replace(/\s+$/,"").toLowerCase()==String(t).replace(/^\s+/,"").replace(/\s+$/,"").toLowerCase()}function s(e,a,r){var n=!1;return r?t(e,function(t){return c(e[t][a],r)?(n=t,!0):void 0}):t(e,function(t){return c(e[t],r)?(n=t,!0):void 0}),n}function l(e,a){a=a.split(",");var r;return t(a,function(t){return r=a[t],c(e,a[t])?!0:void 0}),r}function h(){if(!y){var e,t=document.body,a=t.style;"string"==typeof a.opacity?e="opacity":"string"==typeof a.MozOpacity?e="MozOpacity":"string"==typeof a.KhtmlOpacity?e="KhtmlOpacity":t.filters&&navigator.appVersion.match(/MSIE ([\d.]+);/)[1]>=5.5&&(e="filter"),y="filter"==e?function(t,a){a>1?a=1:0>a&&(a=0),t[e]="alpha(opacity="+Math.round(100*a)+")"}:e?function(t,a){a>1?a=1:0>a&&(a=0),t[e]=a.toFixed(2)}:ef}}function f(e,t,a){"string"==typeof a?e[t]=a:"clip"==t?e[t]="rect("+Math.round(a[0])+"px, "+Math.round(a[1])+"px, "+Math.round(a[2])+"px, "+Math.round(a[3])+"px)":"opacity"==t?y(e,a):e[t]=Math.round(a)+"px"}function d(e,a){t(a,function(t){f(e,t,a[t])})}function u(e){e.display="none"}function p(e){e.display=""}function v(e,t){var a=document.createElement(e);return t&&d(a.style,t),a}function g(e){var a=e.effect,r=e.display;a||(a={}),e.contentmode&&(a.zoom=!1),a.interval=a.interval||40,a.duration=a.duration||200,a.delay=a.delay||0;var n,c,s,h,f,p,g,b=Math.round(a.duration/a.interval),y=[],w=[],k=[],T=[],L=v("div",{width:r.width,height:r.height,position:"absolute",top:0,left:0,overflow:"hidden"});e.container.appendChild(L);var M={cols:a.cols?a.cols:1,rows:a.rows?a.rows:1};M.count=M.cols*M.rows,M.width=r.width/M.cols,M.height=r.height/M.rows;for(var B=0;B<M.cols;B++)for(var s=0;s<M.rows;s++)M[B+","+s]=[s*M.height,B*M.width+M.width,s*M.height+M.height,B*M.width];var C=i(a),x=i(a);x.top=C.bottom,x.bottom=C.top,x.left=C.right,x.right=C.left,a.order=l(a.order,"snake,straight,swirl,straight_stairs,random");var I=m(M.cols,M.rows,a.order,a.road,a.reverse),R="random"==a.order?o():[a.interval,a.duration,a.delay,a.cols,a.rows,a.top,a.right,a.bottom,a.left,a.fade,a.zoom,a.move,a.chess,a.order,a.road,a.reverse].join(",");if(N[R])y=N[R].startStylesArr,w=N[R].AnimateArr,k=N[R].needAnimate;else{for(s=0;s<M.rows;s++)for(B=0;B<M.cols;B++){if(n=I[B+","+s],a=a.chess&&n%2==1?x:C,f={top:0,left:0,opacity:1,width:r.width,height:r.height,overflow:"hidden"},p=i(f),c=i(M[B+","+s]),a.fade&&(f.opacity=0),a.top&&a.bottom?c[0]=c[2]=(c[0]+c[2])/2:a.top?c[2]-=M.height:a.bottom&&(c[0]+=M.height),a.left&&a.right?c[1]=c[3]=(c[1]+c[3])/2:a.left?c[1]-=M.width:a.right&&(c[3]+=M.width),a.zoom&&(f.left=M[B+","+s][3],f.top=M[B+","+s][0],a.left&&a.right?f.left+=M.width/2:a.right?f.left+=M.width:a.left||(f.left=0),a.top&&a.bottom?f.top+=M.height/2:a.bottom?f.top+=M.height:a.top||(f.top=0),(a.left||a.right)&&(c[1]=c[3]=0),(a.top||a.bottom)&&(c[0]=c[2]=0),f.width=a.left||a.right?0:r.width,f.height=a.top||a.bottom?0:r.height),a.move&&(a.top&&(f.top=parseInt(f.top)-M.height,c[0]+=M.height,c[2]+=M.height),a.bottom&&(f.top=parseInt(f.top)+M.height,c[0]-=M.height,c[2]-=M.height),a.left&&(f.left=parseInt(f.left)-M.width,c[1]+=M.width,c[3]+=M.width),a.right&&(f.left=parseInt(f.left)+M.width,c[1]-=M.width,c[3]-=M.width)),f.clip=c,p.clip=M[B+","+s],g=[],t(p,function(e){f[e].toString()!=p[e].toString()&&(g[e]=[],"clip"==e?t(f[e],function(t){g[e][t]=p[e][t]-f[e][t]}):g[e]=p[e]-f[e],k[n]=!0)}),y[n]=f,w[n]=[],a.delay)for(var A=0;A<Math.round(n*a.delay/a.interval);A++)w[n].push(null);var D;if(k[n])for(D=1;b>=D;D++){progress=D/b,progress=-Math.cos(progress*Math.PI)/2+.5;var V=[];D==b?V=p:t(g,function(e){value=[],"clip"==e?t(g[e],function(t){value[t]=f[e][t]+g[e][t]*progress}):value=f[e]+g[e]*progress,V[e]=value}),w[n].push(V)}else w[n].push({display:""})}N[R]={startStylesArr:y,AnimateArr:w,needAnimate:k}}for(s=0;s<M.rows;s++)for(B=0;B<M.cols;B++){n=I[B+","+s],e.contentmode?(h=v("DIV",y[n]),h.appendChild(e.src.cloneNode(!0))):(h=v("IMG",y[n]),h.src=e.src);var S=h.style;S.position="absolute",L.appendChild(h),T[n]=S,k[n]||u(T[n])}var E,H=o(),O=w[w.length-1].length,j=[],z=!0,P=function(){if(z){var n=Math.ceil((o()-H)/a.interval);n=n>=O?O-1:n-1,t(w,function(e){E=n>w[e].length-1?w[e].length-1:n,w[e][E]&&!j[e+","+E]&&(d(T[e],w[e][E]),j[e+","+E]=!0)}),n==O-1&&(M.count>1&&(L.innerHTML="",e.contentmode?L.appendChild(e.src):L.innerHTML='<img src="'+e.src+'" width="'+r.width+'" height="'+r.height+'" />'),e.callback(L),z=!1)}return z},_=setInterval(function(){P()||clearInterval(_)},a.interval)}function m(e,a,r,n,i){function o(t){for(d=0;a>d;d++)for(f=0;e>f;f++)t()}e=parseInt(e),a=parseInt(a);var c,s=[],l=[],h=0,f=0,d=0,u=e*a,p=e-1,v=a-1,g=u-1;n||(n="RB");var m=[e,a,r,n,i].join(",");if(!T[m]){if(u>1){switch(r){case"straight":switch(n){case"BL":c=function(){s[f+","+d]=g-(f*a+(v-d))};break;case"RT":c=function(){s[f+","+d]=g-(d*e+(p-f))};break;case"TL":c=function(){s[f+","+d]=g-(f*a+d)};case"LT":c=function(){s[f+","+d]=g-(d*e+f)};break;case"BR":c=function(){s[f+","+d]=f*a+d};break;case"LB":c=function(){s[f+","+d]=d*e+(p-f)};break;case"TR":c=function(){s[f+","+d]=f*a+(v-d)};break;default:c=function(){s[f+","+d]=d*e+f}}o(c);break;case"swirl":var b,y=0;switch(n){case"BL":f=p,d=0,b=["r+","c-","r-","c+"];break;case"RT":f=0,d=v,b=["c+","r-","c-","r+"];break;case"TL":f=p,d=v,b=["r-","c-","r+","c+"];break;case"LT":f=p,d=v,b=["c-","r-","c+","r+"];break;case"BR":f=0,d=0,b=["r+","c+","r-","c-"];break;case"LB":f=p,d=0,b=["c-","r+","c+","r-"];break;case"TR":f=0,d=v,b=["r-","c+","r+","c-"];break;default:f=0,d=0,b=["c+","r+","c-","r-"]}for(h=0;e*a>h;){if(f>=0&&e>f&&d>=0&&a>d&&"undefined"==typeof s[f+","+d])s[f+","+d]=h++;else switch(b[y++%b.length]){case"c+":f--;break;case"r+":d--;break;case"c-":f++;break;case"r-":d++}switch(b[y%b.length]){case"c+":f++;break;case"r+":d++;break;case"c-":f--;break;case"r-":d--}}break;case"snake":var b,y=0;switch(n){case"BL":f=p,d=0,b=["r+","c-","r-","c-"];break;case"RT":f=0,d=v,b=["c+","r-","c-","r-"];break;case"TL":f=p,d=v,b=["r-","c-","r+","c-"];break;case"LT":f=p,d=v,b=["c-","r-","c+","r-"];break;case"BR":f=0,d=0,b=["r+","c+","r-","c+"];break;case"LB":f=p,d=0,b=["c-","r+","c+","r+"];break;case"TR":f=0,d=v,b=["r-","c+","r+","c+"];break;default:f=0,d=0,b=["c+","r+","c-","r+"]}for(h=0;e*a>h;)if(f>=0&&e>f&&d>=0&&a>d&&"undefined"==typeof s[f+","+d])switch(s[f+","+d]=h++,b[y%b.length]){case"c+":f++;break;case"r+":d++;break;case"c-":f--;break;case"r-":d--}else{switch(b[y++%b.length]){case"c+":f--;break;case"r+":d--;break;case"c-":f++;break;case"r-":d++}switch(b[y++%b.length]){case"c+":f++;break;case"r+":d++;break;case"c-":f--;break;case"r-":d--}}break;case"straight_stairs":switch(n){case"BL":case"TR":case"TL":case"BR":var w=0,k=0;break;case"LB":case"RT":case"LT":case"RB":default:var w=p,k=0}for(f=w,d=k;u>h;){switch(s[f+","+d]=1==n.indexOf("T")||1==n.indexOf("R")?g-h++:h++,n){case"BL":case"TR":f--,d++;break;case"TL":case"BR":f++,d--;break;case"LB":case"RT":f--,d--;break;case"RB":case"LT":default:f++,d++}if(0>f||0>d||f>p||d>v){switch(n){case"BL":case"TR":w++;break;case"LB":case"RT":case"TL":case"BR":k++;break;case"RB":case"LT":default:w--}if(0>w||0>k||w>p||k>v){switch(n){case"BL":case"TR":w=p,k++;break;case"TL":case"BR":k=v,w++;break;case"LB":case"RT":k=v,w--;break;case"RB":case"LT":default:w=0,k++}k>v?k=v:0>k?k=0:w>p?w=p:0>w&&(w=0)}d=k,f=w}}}i&&t(s,function(e){s[e]=g-s[e]})}else s["0,0"]=0;T[m]=s}if("random"==r){o(function(){l.push(f+","+d)}),l.sort(function(){return Math.random()>.5});for(var h=0;e*a>h;h++)s[l[h]]=h;T[m]=s}return T[m]}function b(){return"Sliderman-nameless-effect-"+L++}var y,w=this,k=[],N=[],T=[],L=0,M=[];w.effect=function(e){if(e){var t=-1;if(e.name){var a=s(M,"name",e.name);a&&(t=a)}else e.name=b();t>=0?M[t]=e:M.push(e)}},w.effect({name:"fade",fade:!0,duration:400}),w.effect({name:"move",left:!0,move:!0,duration:400}),w.effect({name:"stairs",cols:7,rows:5,delay:30,order:"straight_stairs",road:"BL",fade:!0}),w.effect({name:"blinds",cols:10,delay:100,duration:400,order:"straight",right:!0,zoom:!0,fade:!0}),w.effect({name:"rain",cols:10,delay:100,duration:400,order:"straight",top:!0,fade:!0}),w.slider=function(t){function r(e){var t=0;e||(e=window.event),e.wheelDelta?(t=e.wheelDelta/120,window.opera&&(t=-t)):e.detail&&(t=-e.detail/3),t&&onmousewheel(t)&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)}h();var o,c,m,w={},k="free",N=!1,T=[],L=[],B=[],C=function(){},x=t.events,I=x?function(e){x[e]&&"function"==typeof x[e]&&x[e](w)}:C,R=t.contentmode,A=[],D=-1,V=function(e){if("string"==typeof e)if(e=e.split(","),1==e.length){var t=s(M,"name",e);t&&V(M[t])}else for(var a=0;a<e.length;a++)V(e[a]);else if(e){e.name||(e.name=b());var r=s(A,"name",e.name);r||(r=A.length),A[r]=i(e)}},S=function(){var t=0;return A.length>1&&(t=e(A.length),D==t&&t++,t%=A.length,D=t),A[t]};if(t.effects)if(t.effects.constructor==Array)for(var E=0;E<t.effects.length;E++)V(t.effects[E]);else V(t.effects);A.length||(A=i(M));var H=t.display||{};H.width=t.width,H.height=t.height;var O=H.loading||{},j=H.description||null,z=H.navigation||null,P=H.buttons||null,_={width:H.width,height:H.height,position:"absolute",top:0,left:0,display:"block"},G=document.getElementById(t.container);if(a(G,"onmouseover",function(){N=!0,P&&P.hide&&p(ot.style),j&&j.hide&&!R&&p(tt.style),H.pause&&pt(!1)}),a(G,"onmouseout",function(){N=!1,P&&P.hide&&u(ot.style),j&&j.hide&&!R&&u(tt.style),H.pause&&pt(!0)}),R)for(var E=0;E<G.childNodes.length;E++)1==G.childNodes[E].nodeType&&(T.push(G.childNodes[E].cloneNode(!0)),u(G.childNodes[E].style));else{for(var E=0;E<G.childNodes.length;E++)if(1==G.childNodes[E].nodeType){if("A"==G.childNodes[E].tagName){var K=G.childNodes[E].getElementsByTagName("IMG");K.length?(T.push(K[0].src),B[T.length-1]=G.childNodes[E]):L[T.length-1]=G.childNodes[E]}else if("IMG"==G.childNodes[E].tagName){if(T.push(G.childNodes[E].src),G.childNodes[E].useMap){var $,F=document.getElementsByTagName("MAP");if(F.length)for(var q=0;q<F.length;q++)F[q].name&&G.childNodes[E].useMap.replace(/^[^#]*#/,"")==F[q].name&&($=F[q]);$&&(B[T.length-1]=$)}}else{if("MAP"==G.childNodes[E].tagName)continue;L[T.length-1]=G.childNodes[E]}u(G.childNodes[E].style)}for(var E=0;E<T.length;E++)n(T[E])}var J=v("DIV",{width:H.width,height:H.height,position:"relative"});G.appendChild(J);var Q=v("DIV",_);if(J.appendChild(Q),partsCont=J,R)var U=C;else{var W=v("DIV",_);partsCont.appendChild(W);var U=function(){if(W.innerHTML="",value=B[o]){if("MAP"==value.tagName){var e=v("IMG",_);e.src=T[o],e.useMap="#"+value.name}else{var e=v("A",_);e.href=value.href,e.target=value.target}d(e.style,{opacity:0,background:"#000000"}),e.onfocus=function(){this.blur()},W.appendChild(e)}}}if(R)var X=C;else{var Y=v("DIV");if(partsCont.appendChild(Y),O.background){var Z=i(_);Z.background=O.background,O.opacity&&(Z.opacity=O.opacity),Y.appendChild(v("DIV",Z))}if(O.image){var et=i(_);et.background="url("+O.image+") no-repeat center center",Y.appendChild(v("DIV",et))}var X=function(e){e?p(Y.style):u(Y.style),k=e?"loading":"free"}}if(j&&!R){var tt=v("DIV");partsCont.appendChild(tt),j.hide&&u(tt.style);var at={position:"absolute",overflow:"hidden",textAlign:"left"};j||(j=[]),j.position=l(j.position,"top,left,right,bottom"),at.background=j.background||"white",at.opacity=j.opacity||.5,at.width="top"==j.position||"bottom"==j.position?H.width:j.width||.2*H.width,at.height="left"==j.position||"right"==j.position?H.height:j.height||.2*H.height,at["bottom"==j.position?"bottom":"top"]=0,at["right"==j.position?"right":"left"]=0;var rt=v("DIV",at);tt.appendChild(rt),at.opacity=1,at.background="";var nt=v("DIV",at);tt.appendChild(nt);var it=function(){nt.innerHTML="",f(tt.style,"visibility","hidden");var e=L[o];e&&(f(tt.style,"visibility","visible"),e=e.cloneNode(!0),p(e.style),nt.appendChild(e),N&&p(tt.style))}}else var it=C;if(P){var ot=v("DIV");partsCont.appendChild(ot),P.hide&&u(ot.style);var ct=v("A");ot.appendChild(ct),ct.href="javascript:void(0);";var st=ct.cloneNode(!0);ot.appendChild(st),ct.onfocus=function(){this.blur()},st.onfocus=function(){this.blur()},ct.onclick=function(){w.prev()},st.onclick=function(){w.next()},P.prev.label&&(ct.innerHTML="string"==typeof P.prev.label?P.prev.label:"prev"),P.prev.label&&(st.innerHTML="string"==typeof P.next.label?P.next.label:"next"),P.prev.className&&(ct.className=P.prev.className),P.next.className&&(st.className=P.next.className),(P.opacity||P.prev.opacity)&&y(ct.style,P.opacity||P.prev.opacity),(P.opacity||P.next.opacity)&&y(st.style,P.opacity||P.next.opacity)}if(z){var lt,ht=document.getElementById(z.container);z.prev&&(lt=v("A"),z.prev.label&&(lt.innerHTML="string"==typeof z.prev.label?z.prev.label:"Prev"),z.prev.className&&(lt.className=z.prev.className),lt.href="javascript:void(0);",lt.onfocus=function(){this.blur()},lt.onclick=function(){w.prev()},ht.appendChild(lt));for(var ft=[],E=0;E<T.length;E++)lt=v("A"),z.label&&(lt.innerHTML="string"==typeof z.label?z.label:E+1),z.className&&(lt.className=z.className),lt.href="javascript:void(0);",lt.id=t.container+"_SliderNavigation"+E,lt.onfocus=function(){this.blur()},lt.onclick=function(){w.go(this.id.replace(/[^\d]+/g,""))},ft.push(lt),ht.appendChild(lt);z.next&&(lt=v("A"),z.next.label&&(lt.innerHTML="string"==typeof z.next.label?z.next.label:"Next"),z.next.className&&(lt.className=z.next.className),lt.href="javascript:void(0);",lt.onfocus=function(){this.blur()},lt.onclick=function(){w.next()},ht.appendChild(lt));var dt=function(){for(var e=0;e<ft.length;e++)ft[e].className=ft[e].className.replace(/\bactive\b/g,"");ft[o].className+=" active"}}else var dt=C;if(H.autoplay)var ut,pt=function(e){ut&&clearTimeout(ut),!e||N&&H.pause||(ut=setTimeout(w.next,H.autoplay))};else var pt=C;var vt=function(e){I("before"),X(!1),k="busy",it(),U(),dt(),g({effect:S(),display:H,container:Q,src:e,callback:function(e){m&&m.parentNode.removeChild(m),m=e,k="free",pt(!0),I("after")},contentmode:R})};return w.next=function(){w.go(o+1)},w.prev=function(){w.go(o-1)},w.go=function(e){e=(T.length+e)%T.length,pt(!1),"free"==k&&o!=e&&(c=o,o=e,I("loading"),X(!0),R?vt(T[o]):n(T[o],vt,H.always_show_loading))},w.get=function(e){switch(e){case"length":return T.length;case"current":return o;case"previous":return c;case"images":return T;case"links":return B;case"descriptions":return L}},H.mousewheel&&(onmousewheel=function(e){return e>0?w.prev():0>e&&w.next(),!0},G.addEventListener?(G.addEventListener("DOMMouseScroll",r,!1),G.addEventListener("mousewheel",r,!1)):a(G,"onmousewheel",r)),w.go(0),w}};